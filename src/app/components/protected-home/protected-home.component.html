<div class="container animated fadeIn fast">
    <h3>Mi perfil <small>personal</small></h3>
    <hr>
    <div style="margin-top: 10px;" class="row" *ngIf="profile">
        <div class="col-md-4">
            <img class="img-fluid img-thumbnail" [src]="profile.picture">
        </div>

        <div class="col-md-8">
            <p class="font-weight-bold">Información personal</p>
            <ul class="list-group">
                <li class="list-group-item">{{ profile.name }} </li>
                <li class="list-group-item">{{ profile.nickname }} </li>
                <li class="list-group-item">{{ profile.updated_at | date:'dd MM yyyy' }} </li>
            </ul>
            <br>
            <div class="col-md-8">
                <p class="font-weight-bold">Dirección</p>
                <form (ngSubmit)="updateUserAddress(forma)" #forma="ngForm" novalidate="">
                    <div class="form-row">
                        <label class="col-2 col-form-label">Calle</label>
                        <div class="col-8">
                            <input [(ngModel)]="address.street" id="street" class="form-control" type="text" placeholder="Calle" name="street" minlength="4" required>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-2 col-form-label">Colonia</label>
                        <div class="col-8">
                            <input [(ngModel)]="address.suburb" id="suburb" class="form-control" type="text" placeholder="Colonia" name="suburb" minlength="4" required>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-2 col-form-label">Código Postal</label>
                        <div class="col-md-8">
                            <input [(ngModel)]="address.zip" id="zip" class="form-control" type="number" placeholder="C.P." name="zip" required>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-2 col-form-label">País</label>
                        <div class="col-md-8">
                            <input [(ngModel)]="address.country" id="country" class="form-control" type="number" placeholder="País" name="country" required>
                        </div>
                    </div>

                </form>
                <p class="font-weight-bold">Mis huertos</p>
                <table class="table table-bordered table-light">
                    <thead style="color: white" class="bg-success">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Fruto</th>
                            <th scope="col">Precio</th>
                            <th scope="col">Fecha de cultivo</th>
                            <th scope="col">Tipo de huerto</th>
                            <th scope="col">Opciones</th>
                        </tr>
                    </thead>
                    <tbody *ngFor="let k of orchards | keys; let i = index">
                        <td>{{ i + 1 }}</td>
                        <td>{{ orchards[k].fruit }}</td>
                        <td>{{ orchards[k].price }}</td>
                        <td>{{ orchards[k].dateHarv }}</td>
                        <td>{{ orchards[k].orchardType }}</td>
                        <td>
                            <button [routerLink]="['/protected-add-orchard', k]" class="btn btn-sm btn-dark"><i class="material-icons md-18" style="font-size: 18px">edit</i></button>
                            <button (click)="deleteOrchard(k)" class="btn btn-sm btn-danger"><i class="material-icons md-18" style="font-size: 18px">delete_forever</i></button>
                        </td>
                    </tbody>
                </table>
                <div *ngIf="(orchards | keys).length == 0 && !loading" class="alert alert-info" role="alert">
                    <strong>No tienes ningún huerto registrado...</strong>
                </div>
                <div *ngIf="loading" class="alert alert-warning" role="alert">
                    <strong>Cargando tus huertos registrados, por favor espere...</strong>
                </div>
            </div>
            <pre>
    </pre>
        </div>